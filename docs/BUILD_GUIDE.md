# Build Guide

## Correct Build Process

Always build in the `build/` directory to keep the root clean:

```bash
# From project root
cd qwen600_engine

# Create and enter build directory
mkdir -p build
cd build

# Run CMake (generates Makefile in build/)
cmake ..

# Compile
make

# Run
./test_phase0_initialization /path/to/model.safetensors
```

## ❌ Common Mistake

**DON'T** run `cmake` in the root directory:
```bash
# ❌ WRONG - creates files in root
cd qwen600_engine
cmake .  # This is wrong!
```

This creates `Makefile`, `CMakeCache.txt`, `CMakeFiles/` in the root directory, which pollutes your source tree.

## ✅ Correct Workflow

**DO** run `cmake` from the `build/` directory:
```bash
# ✓ CORRECT - creates files in build/
cd qwen600_engine
mkdir -p build && cd build
cmake ..  # This is correct!
```

This keeps all generated files in `build/`, which is gitignored.

## Clean Build

If you need to start fresh:

```bash
# Remove build directory
rm -rf build

# Rebuild
mkdir -p build && cd build
cmake ..
make
```

## Project Structure

```
qwen600_engine/
├── CMakeLists.txt       # CMake configuration (source-controlled)
├── main.cu              # Your source code (source-controlled)
├── ...
├── build/               # Generated files (gitignored)
│   ├── Makefile         # Generated by CMake
│   ├── CMakeCache.txt   # Generated by CMake
│   └── ...
└── .gitignore           # Ignores build/ directory
```

## What Gets Generated

When you run `cmake ..` from `build/`:
- `Makefile` - Contains absolute paths (normal, will differ per machine)
- `CMakeCache.txt` - Caches CMake variables
- `CMakeFiles/` - CMake internal files
- Compiled binaries (`.o`, executables)

**These are all machine-specific and should NOT be committed to git!**

## Summary

✅ **Always** build in `build/` subdirectory  
❌ **Never** run `cmake` in the root directory  
✅ `build/` is gitignored - all generated files go here  
✅ Root stays clean with only source files

